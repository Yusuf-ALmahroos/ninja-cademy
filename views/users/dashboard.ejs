<%- include('../partials/header.ejs') %>

<div>
  <div class="auth-actions">
    <a href="/auth/sign-out">sign-out</a> |
    <a href="/auth/<%= user._id %>/update-password">update password</a>
  </div>
  <div>
    <div>
      <h3>All Courses</h3>
      <form action="enroll" method="post">
  <% user.courses.forEach((item, idx) => { %>
    <div class="course-item">
      <label for="course<%= idx %>"><%= item.title %></label>
      <input type="checkbox" id="course<%= idx %>" name="courses" value="<%= item._id %>">
    </div>
  <% }) %>
  <button type="submit">Add</button>
</form>
    </div>
    <div>
      <h3>Enrolled Courses</h3>
      <ul>
        <% user.coursesEnrolled.forEach((course) => { %>
          <li> <%= course %> </li>
        <% })%>
      </ul>
    </div>

    <div>
      <h3>Completed Courses</h3>
      <ul>
        <% user.coursesFinished.forEach((course) => { %>
          <li> <%= course %> </li>
        <% })%>
      </ul>
    </div>
  </div>
